<div dir="rtl">

<p align="center">
  <img src="https://raw.githubusercontent.com/gist/pejvak-source/e62a4a75e2b173255a806c7717462a69/raw/e3b6d2169601d36d8883e449176e559530db3332/gemini-bot-logo.svg" alt="لوگوی ربات تلگرام جمنای" width="150">
</p>

<h1 align="center">🤖 ربات تلگرام هوش مصنوعی Gemini</h1>

<p align="center">
  <img alt="PHP Version" src="https://img.shields.io/badge/PHP-%3E%3D%207.4-8892BF?style=for-the-badge&logo=php">
  <img alt="License" src="https://img.shields.io/badge/License-MIT-green.svg?style=for-the-badge">
</p>

> یک ربات تلگرام قدرتمند و هوشمند مبتنی بر مدل **Google Gemini 1.5 Flash** که با زبان **PHP** توسعه یافته و تجربه‌ای تعاملی و پیشرفته را برای کاربران فراهم می‌کند.

<br>

---

### 📋 **فهرست مطالب**

- [✨ قابلیت‌ها و ویژگی‌ها](#-قابلیت‌ها-و-ویژگی‌ها)
- [🛠️ راه‌اندازی و نصب](#️-راه‌اندازی-و-نصب)
  - [پیش‌نیازها](#پیش‌نیازها)
  - [مراحل نصب](#مراحل-نصب)
- [👨‍💻 توسعه‌دهنده](#-توسعه‌دهنده)
- [⚠️ نکات مهم](#️-نکات-مهم)

---

## ✨ قابلیت‌ها و ویژگی‌ها

این ربات مجموعه‌ای از ویژگی‌های جذاب و کاربردی را در دسته‌های مختلف ارائه می‌دهد:

#### 🧠 **هوش مصنوعی و گفتگو**
- **پاسخگویی هوشمند:** اتصال مستقیم به `Gemini 1.5 Flash` برای درک عمیق سوالات و ارائه پاسخ‌های دقیق.
- **پشتیبانی از نقش‌های گفتگو (Roles):**
  - **عمومی:** دستیار دوستانه
  - **برنامه‌نویس:** ارائه‌دهنده کدهای تمیز
  - **شاعر:** پاسخگو با لحن ادبی
  - **معلم:** توضیح‌دهنده مباحث پیچیده
  - و نقش‌های کاربردی دیگر...
- **تنظیم لحن گفتگو (Tones):**
  - دوستانه (Friendly)
  - رسمی (Formal)
  - طنز (Humorous)

#### 📝 **ابزارهای تولید محتوا**
- **نویسنده مقاله:** تولید مقالات ساختاریافته.
- **پست اینستاگرام:** ساخت کپشن‌های جذاب با ایموجی و هشتگ.
- **ایمیل حرفه‌ای:** نگارش ایمیل‌های رسمی و مؤثر.

#### ⚙️ **مدیریت و کنترل**
- **پنل مدیریت قدرتمند:** دسترسی ادمین به آمار، ارسال پیام همگانی، وضعیت API و... از طریق دستور `/panel`.
- **مدیریت کاربران و آمار:** پیگیری تعداد کاربران کل، کاربران فعال روزانه، پیام‌ها و کاربران مسدود شده.
- **عضویت اجباری در کانال:** الزام کاربران به عضویت در کانال‌های مشخص برای استفاده از ربات.
- **محدودیت نرخ درخواست (Rate Limiting):** جلوگیری از اسپم و تضمین پایداری عملکرد ربات.

#### 🛡️ **امنیت و پایداری**
- **امنیت کلیدها:** بارگذاری توکن‌ها از فایل `.env-private` (خارج از دسترس Git).
- **گزارش‌دهی خطا:** ثبت خودکار تمام خطاها در فایل `error_log.txt` برای عیب‌یابی سریع.

---

## 🛠️ راه‌اندازی و نصب

برای راه‌اندازی این ربات روی سرور خود، مراحل زیر را با دقت دنبال کنید.

### **پیش‌نیازها**
- ✅ سرور وب با پشتیبانی از **PHP نسخه 7.4 به بالا**
- ✅ فعال بودن افزونه `php_curl`
- ✅ توکن ربات تلگرام (از [@BotFather](https://t.me/BotFather))
- ✅ کلید API برای Gemini (از [Google AI Studio](https://aistudio.google.com/))

### **مراحل نصب**

1.  **کلون کردن مخزن**
    <br>
    پروژه را از گیت‌هاب روی سرور خود کلون کنید:
    <div dir="ltr">

    ```bash
    git clone [https://github.com/YOUR_USERNAME/YOUR_REPOSITORY_NAME.git](https://github.com/YOUR_USERNAME/YOUR_REPOSITORY_NAME.git)
    cd YOUR_REPOSITORY_NAME
    ```
    </div>
    > **نکته:** `YOUR_USERNAME` و `YOUR_REPOSITORY_NAME` را با اطلاعات خود جایگزین کنید.

2.  **ایجاد فایل تنظیمات**
    <br>
    یک فایل جدید با نام `.env-private` در ریشه پروژه بسازید و کلیدهای خود را در آن وارد کنید:
    <div dir="ltr">

    ```env
    GEMINI_KEY=your_gemini_api_key_here
    BOT_TOKEN=your_telegram_bot_token_here
    ```
    </div>

3.  **تنظیم شناسه ادمین**
    <br>
    فایل `index.php` را باز کرده و `ADMIN_USER_ID` را با شناسه عددی اکانت تلگرام خودتان مقداردهی کنید:
    <div dir="ltr">

    ```php
    const ADMIN_USER_ID = YOUR_TELEGRAM_USER_ID; // شناسه عددی خود را اینجا بگذارید
    ```
    </div>

4.  **ایجاد پوشه‌ها و تنظیم مجوزها**
    <br>
    مطمئن شوید پوشه `user_data/` در ریشه پروژه وجود دارد و دارای **مجوز نوشتن (سطح دسترسی 755 یا 777)** است.

5.  **تنظیم Webhook**
    <br>
    برای اتصال تلگرام به ربات، لینک زیر را با مقادیر خودتان در مرورگر اجرا کنید.
    <div dir="ltr">

    ```
    [https://api.telegram.org/bot](https://api.telegram.org/bot)[YOUR_BOT_TOKEN]/setWebhook?url=[https://yourdomain.com/path/to/bot/index.php](https://yourdomain.com/path/to/bot/index.php)
    ```
    </div>
    > پس از اجرای موفقیت‌آمیز، ربات شما فعال و آماده استفاده است!

---

## 👨‍💻 توسعه‌دهنده

- **توسعه‌دهنده:** مهدی اسکندری
- **تیم:** پژواک سورس

---

## ⚠️ نکات مهم

> ❗️ **امنیت کلیدها:** هرگز فایل `.env-private` یا کلیدهای API خود را در مخزن گیت عمومی Push نکنید. مطمئن شوید این فایل به درستی در `.gitignore` لیست شده است.

> ❗️ **مجوزهای فایل:** دسترسی نوشتن برای پوشه `user_data/` و فایل‌های لاگ و آمار برای عملکرد صحیح ربات حیاتی است.

> ❗️ **روش ارتباط:** این ربات با **Webhook** کار می‌کند و نیازمند یک دامنه با گواهی SSL معتبر است.

</div>
