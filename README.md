🤖 ربات تلگرام مبتنی بر هوش مصنوعی (Gemini-Powered Telegram Bot)
این یک ربات تلگرام قدرتمند است که با استفاده از API پیشرفته Google Gemini توسعه یافته و قابلیت‌های متنوعی را به کاربران خود ارائه می‌دهد. این ربات به زبان PHP نوشته شده و برای ایجاد تجربه‌ای هوشمند و تعاملی طراحی شده است.

✨ قابلیت‌ها و ویژگی‌ها
پاسخگویی هوشمند: با اتصال به مدل هوش مصنوعی Gemini 1.5 Flash، ربات قادر به درک سوالات و ارائه پاسخ‌های دقیق و مرتبط است.

پشتیبانی از نقش‌های گفتگو (Roles): کاربران می‌توانند نقش‌های مختلفی برای ربات تعریف کنند تا پاسخ‌ها را متناسب با آن نقش دریافت کنند. نقش‌های موجود شامل:

عمومی (Default): دستیار کلی و دوستانه.

برنامه‌نویس (Programmer): ارائه کد تمیز و توضیحات واضح.

شاعر (Poet): پاسخگویی با لحنی ادبی و شاعرانه.

معلم (Teacher): توضیح مباحث پیچیده به زبانی ساده.

مشاور کسب‌وکار (Business Consultant): ارائه مشاوره‌های استراتژیک در زمینه بازاریابی، مدیریت و رشد.

مربی ورزشی (Fitness Coach): ارائه برنامه‌های ورزشی و نکات تغذیه‌ای.

آشپز (Chef): ارائه دستورالعمل‌های آشپزی.

مترجم (Translator): قابلیت ترجمه متون به زبان‌های مختلف.

تنظیم لحن گفتگو (Tone Settings): کاربران می‌توانند لحن پاسخ‌های ربات را از بین گزینه‌های زیر انتخاب کنند:

دوستانه (Friendly)

رسمی (Formal)

طنز (Humorous)

ابزارهای تولید محتوا (Content Creation Tools): ربات دارای ابزارهای تخصصی برای تولید محتوای خاص است:

نویسنده مقاله (Article Writer): تولید مقالات ساختاریافته و آموزنده.

پست اینستاگرام (Instagram Post): تولید کپشن‌های جذاب برای اینستاگرام با ایموجی و هشتگ.

ایمیل حرفه‌ای (Professional Email): نگارش ایمیل‌های رسمی و موثر.

مدیریت نرخ درخواست (Rate Limiting): برای جلوگیری از سوءاستفاده، ربات دارای سیستم محدودیت تعداد پیام در دقیقه و زمان خنک‌سازی بین پیام‌ها است.

مدیریت کاربران و آمار (User & Stats Management):

ثبت کاربران جدید.

پیگیری تعداد کل پیام‌های ارسالی.

پیگیری تعداد کاربران مسدود شده.

نمایش کاربران فعال روزانه.

مدیریت کانال‌های اجباری (Mandatory Channel Subscription): قابلیت تعریف کانال‌هایی که کاربران برای استفاده از ربات باید در آن‌ها عضو شوند.

پنل مدیریت قدرتمند (Admin Panel): ادمین ربات (با تعیین ADMIN_USER_ID) به یک پنل دسترسی دارد که شامل:

مشاهده آمار ربات (تعداد کاربران، پیام‌ها، کاربران فعال، کاربران بلاک‌شده).

قابلیت ارسال پیام همگانی (Broadcast) به تمام کاربران.

بررسی وضعیت اتصال به API جمنای.

مدیریت (افزودن/حذف) کانال‌های اجباری.

گزارش‌دهی خطا (Error Logging): خطاهای مربوط به API تلگرام و جمنای در فایل error_log.txt ثبت می‌شوند.

امنیت کلیدها: کلیدهای حساس (توکن تلگرام و کلید جمنای) از طریق فایل .env-private بارگذاری می‌شوند تا از نمایش مستقیم آن‌ها در کد جلوگیری شود.

🛠️ راه‌اندازی و نصب
برای راه‌اندازی این ربات، مراحل زیر را دنبال کنید:

پیش‌نیازها:

سرور وب با پشتیبانی PHP (نسخه 7.4 به بالا توصیه می‌شود).

فعال بودن افزونه php_curl در PHP.

دسترسی به اینترنت برای ارتباط با API تلگرام و جمنای.

یک توکن ربات تلگرام از @BotFather.

یک کلید API برای Gemini از Google AI Studio.

کلون کردن مخزن:
پروژه را از گیت‌هاب به سرور خود کلون کنید:

Bash

git clone https://github.com/YOUR_USERNAME/YOUR_REPOSITORY_NAME.git
cd YOUR_REPOSITORY_NAME
تنظیمات فایل .env-private:
در ریشه پروژه، یک فایل به نام .env-private ایجاد کنید و محتوای زیر را در آن قرار دهید (با اطلاعات واقعی خود جایگزین کنید):

GEMINI_KEY = your_gemini_api_key_here
BOT_TOKEN = your_telegram_bot_token_here
مهم: هرگز این فایل را به گیت‌هاب Push نکنید. مطمئن شوید که /user_data/، bot_stats.json، channels.json و .env-private در فایل .gitignore شما لیست شده باشند.

تنظیم ADMIN_USER_ID:
فایل اصلی ربات (که احتمالاً index.php یا نام مشابهی دارد) را باز کنید و ADMIN_USER_ID را به آیدی عددی تلگرام خود تغییر دهید. این برای دسترسی به پنل مدیریت ضروری است.

PHP

const ADMIN_USER_ID = YOUR_TELEGRAM_USER_ID; // <<<< آیدی عددی خودتان را اینجا بگذارید
ایجاد پوشه‌ها:
مطمئن شوید که پوشه‌های زیر در ریشه پروژه شما وجود دارند و دارای مجوزهای نوشتن (write permissions) هستند:

user_data/
این پوشه برای ذخیره اطلاعات کاربران و فایل‌های مربوط به آمار استفاده می‌شود.

تنظیم Webhook تلگرام:
برای اینکه تلگرام بتواند به‌روزرسانی‌ها را به ربات شما ارسال کند، باید یک وب‌هوک تنظیم کنید. آدرس فایل اصلی ربات (مثلاً https://yourdomain.com/path/to/your/bot/index.php) را به عنوان URL وب‌هوک قرار دهید. می‌توانید این کار را از طریق مرورگر با آدرس زیر انجام دهید:

https://api.telegram.org/bot[YOUR_BOT_TOKEN]/setWebhook?url=https://yourdomain.com/path/to/your/bot/index.php
[YOUR_BOT_TOKEN] را با توکن ربات خود جایگزین کنید و https://yourdomain.com/path/to/your/bot/index.php را با آدرس واقعی فایل رباتتان.

اجرا:
پس از انجام مراحل بالا، ربات شما آماده استفاده است. می‌توانید آن را در تلگرام امتحان کنید.

👨‍💻 توسعه‌دهنده
این ربات توسط مهدی اسکندری در تیم پژواک سورس توسعه داده شده است.

⚠️ نکات مهم
امنیت: هرگز توکن ربات تلگرام و کلید API جمنای خود را به صورت مستقیم در کد یا در مخزن گیت‌هاب قرار ندهید. استفاده از فایل .env-private (و افزودن آن به .gitignore) روشی امن برای مدیریت این اطلاعات است.

مجوزهای پوشه: مطمئن شوید که پوشه user_data و فایل‌های bot_stats.json, channels.json, error_log.txt دارای مجوزهای مناسب برای نوشتن توسط سرور وب هستند.

Webhooks: این ربات از Webhook برای دریافت به‌روزرسانی‌ها استفاده می‌کند، نه Long Polling.

این توضیحات به خوبی قابلیت‌های ربات شما را نشان می‌دهد و راهنمای کاملی برای دیگران جهت راه‌اندازی و استفاده از آن فراهم می‌کند. می‌توانید این متن را در فایل README.md مخزن گیت‌هاب خود قرار دهید.
